<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#f1f5f9">
    <title>Vena Pictures</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Manrope', 'sans-serif'],
            },
            colors: {
              'brand': {
                'bg': 'var(--color-bg)',
                'surface': 'var(--color-surface)',
                'accent': 'var(--color-accent)',
                'accent-hover': 'var(--color-accent-hover)',
                'danger': 'var(--color-danger)',
                'success': 'var(--color-success)',
                'text-light': 'var(--color-text-light)',
                'text-primary': 'var(--color-text-primary)',
                'text-secondary': 'var(--color-text-secondary)',
                'border': 'var(--color-border)',
                'input': 'var(--color-input-bg)',
              }
            },
            boxShadow: {
              'lg': '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)',
              'xl': '0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)',
              'up-lg': '0 -10px 15px -3px rgb(0 0 0 / 0.05), 0 -4px 6px -4px rgb(0 0 0 / 0.05)'
            }
          }
        }
      }
    </script>
    <style>
      :root {
        --color-bg: #f1f5f9; /* slate-100 */
        --color-surface: #ffffff;
        --color-text-light: #020617; /* slate-950 */
        --color-text-primary: #334155; /* slate-700 */
        --color-text-secondary: #64748b; /* slate-500 */
        --color-accent: #3b82f6; /* blue-500 */
        --color-accent-hover: #2563eb; /* blue-600 */
        --color-border: #e2e8f0; /* slate-200 */
        --color-input-bg: #f8fafc; /* slate-50 */
        --color-success: #16a34a; /* green-600 */
        --color-danger: #dc2626; /* red-600 */
        
        /* Client Portal Specific Colors */
        --portal-bg: #f1f5f9; /* slate-100 */
        --portal-surface: #ffffff;
        --portal-border: #e2e8f0; /* slate-200 */
        --portal-text-primary: #1e293b; /* slate-800 */
        --portal-text-secondary: #64748b; /* slate-500 */
        
        color-scheme: light;
      }
      
      html.dark {
        --color-bg: #0f172a; /* slate-900 */
        --color-surface: #1e293b; /* slate-800 */
        --color-text-light: #f1f5f9; /* slate-100 */
        --color-text-primary: #cbd5e1; /* slate-300 */
        --color-text-secondary: #94a3b8; /* slate-400 */
        --color-accent: #60a5fa; /* blue-400 */
        --color-accent-hover: #3b82f6; /* blue-500 */
        --color-border: #334155; /* slate-700 */
        --color-input-bg: #334155; /* slate-700 */
        --color-success: #4ade80; /* green-400 */
        --color-danger: #f87171; /* red-400 */
        
        /* Client Portal Specific Colors */
        --portal-bg: #020617; /* slate-950 */
        --portal-surface: #0f172a; /* slate-900 */
        --portal-border: #1e293b; /* slate-800 */
        --portal-text-primary: #f1f5f9; /* slate-100 */
        --portal-text-secondary: #94a3b8; /* slate-400 */
        
        color-scheme: dark;
      }

      body {
        font-family: 'Manrope', 'sans-serif';
        background-color: var(--color-bg);
        color: var(--color-text-primary);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* --- Responsive Typography --- */
      /* This makes text sizes fluid across all screen sizes */
      .text-xs { font-size: clamp(0.7rem, 0.2vw + 0.65rem, 0.75rem); }
      .text-sm { font-size: clamp(0.8125rem, 0.3vw + 0.7rem, 0.875rem); }
      .text-base { font-size: clamp(0.9rem, 0.4vw + 0.75rem, 1rem); }
      .text-lg { font-size: clamp(1rem, 0.5vw + 0.8rem, 1.125rem); }
      .text-xl { font-size: clamp(1.125rem, 0.6vw + 0.9rem, 1.25rem); }
      .text-2xl { font-size: clamp(1.25rem, 1vw + 1rem, 1.5rem); }
      .text-3xl { font-size: clamp(1.5rem, 1.5vw + 1.1rem, 1.875rem); }


      /* Custom scrollbar */
      ::-webkit-scrollbar { width: 8px; height: 8px; }
      ::-webkit-scrollbar-track { background: var(--color-surface); }
      ::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 10px; }
      ::-webkit-scrollbar-thumb:hover { background: var(--color-text-secondary); }

      /* Notification Animation */
      @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-20px); }
        15% { opacity: 1; transform: translateY(0); }
        85% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-20px); }
      }
      .animate-fade-in-out { animation: fadeInOut 3s ease-in-out forwards; }
      
      /* --- Text Gradient --- */
      .text-gradient {
        background: linear-gradient(to right, var(--color-accent), #7c3aed); /* blue-500 to violet-600 */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
      }

      /* --- Form Element Styles (Floating Label) --- */
      .input-group {
        position: relative;
        margin-top: 1.75rem; /* Add more margin for spacing */
      }
      .input-field {
        display: block;
        width: 100%;
        padding: 10px 0 10px;
        font-size: 1rem;
        color: var(--color-text-light);
        background-color: transparent;
        border: none;
        border-bottom: 1px solid var(--color-border);
        outline: none;
        transition: border-color 0.2s;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
      }
      .input-field:focus {
        border-bottom: 2px solid transparent;
        border-image: linear-gradient(to right, var(--color-accent), #a78bfa);
        border-image-slice: 1;
      }
      .input-label {
        position: absolute;
        top: 10px;
        left: 0;
        font-size: 1rem;
        color: var(--color-text-secondary);
        pointer-events: none;
        transition: 0.2s ease all;
      }

      .input-field:focus + .input-label,
      .input-field:not(:placeholder-shown) + .input-label {
        top: -14px;
        left: 0;
        font-size: 0.75rem;
        color: var(--color-accent);
      }
      
      /* Select needs specific styling */
      select.input-field {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.25rem center;
        background-repeat: no-repeat;
        background-size: 1.25em 1.25em;
        padding-right: 2.5rem;
      }
      html.dark select.input-field {
         background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      }
      
      /* Keep label floated for selects */
      select.input-field + .input-label {
         top: -14px;
         left: 0;
         font-size: 0.75rem;
         color: var(--color-accent);
      }
      
      textarea.input-field {
        min-height: 80px;
      }
      
      input[type="checkbox"] {
        @apply h-4 w-4 shrink-0 rounded;
        color: var(--color-accent);
        border: 1.5px solid var(--color-text-secondary);
        background-color: transparent;
      }
      input[type="checkbox"]:checked {
        border-color: var(--color-accent);
        background-color: currentColor;
        background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
      }

      input[type="date"]::-webkit-calendar-picker-indicator {
          cursor: pointer;
          opacity: 0.6;
          filter: invert(var(--dark-mode-filter, 0));
          transition: opacity 0.2s;
      }
       html.dark input[type="date"]::-webkit-calendar-picker-indicator {
           filter: invert(1);
      }
      input[type="date"]::-webkit-calendar-picker-indicator:hover {
          opacity: 1;
      }
      
      /* --- New Input Style for Login --- */
      .input-with-icon {
        position: relative;
      }
      .input-with-icon .input-icon {
        position: absolute;
        left: 0.75rem; /* 12px */
        top: 50%;
        transform: translateY(-50%);
        color: #94a3b8; /* slate-400 */
        pointer-events: none;
      }
      .input-with-icon input {
          padding-left: 2.5rem; /* 40px */
      }

      /* --- Button Styles --- */
      .button-primary {
        font-weight: 600; /* semibold */
        padding: 0.75rem 1.5rem; /* py-3 px-6 */
        border-radius: 9999px; /* rounded-full */
        color: white;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border: none;
        background: linear-gradient(to right, #38bdf8, #3b82f6); /* cyan-400 to blue-500 */
        box-shadow: 0 4px 15px -3px rgba(59, 130, 246, 0.4), 0 2px 8px -2px rgba(59, 130, 246, 0.3);
        transition: all 0.2s ease-in-out;
        cursor: pointer;
      }
      .button-primary:hover {
        background: linear-gradient(to right, #0ea5e9, #2563eb); /* sky-500 to blue-600 */
        box-shadow: 0 7px 20px -3px rgba(59, 130, 246, 0.5), 0 4px 10px -2px rgba(59, 130, 246, 0.4);
        transform: translateY(-2px);
      }
      .button-primary:active {
        transform: translateY(-1px) scale(0.98);
        box-shadow: 0 2px 10px -3px rgba(59, 130, 246, 0.4);
      }
      .button-primary:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        background: linear-gradient(to right, #38bdf8, #3b82f6);
      }

      .button-secondary {
        font-weight: 600; /* semibold */
        padding: 0.75rem 1.5rem; /* py-3 px-6 */
        border-radius: 0.75rem; /* rounded-xl */
        background-color: var(--color-input-bg); /* #f1f5f9 */
        color: #475569; /* slate-600 */
        border: 1px solid var(--color-border);
        transition: all 0.2s ease-in-out;
        cursor: pointer;
      }
      html.dark .button-secondary {
        color: var(--color-text-primary);
      }
      .button-secondary:hover {
        color: #1e293b; /* slate-800 */
        background-color: #e2e8f0; /* slate-200 */
      }
       html.dark .button-secondary:hover {
        color: var(--color-text-light);
        background-color: #475569; /* slate-600 */
      }
      .button-secondary:active {
        background-color: #cbd5e1; /* slate-300 */
        color: #1e293b; /* slate-800 */
      }
       .button-secondary:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        box-shadow: none;
      }
      
      /* --- Widget Animation --- */
      @keyframes widget-fade-in-up {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .widget-animate {
        animation: widget-fade-in-up 0.5s ease-out forwards;
        opacity: 0;
      }
      
      /* Timeline Line Animation */
      @keyframes draw-line-ver {
        from { transform: scaleY(0); }
        to { transform: scaleY(1); }
      }
      
      /* --- Mobile Nav --- */
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: var(--color-surface);
        box-shadow: var(--tw-shadow-up-lg); /* custom shadow */
        z-index: 40;
        border-top: 1px solid var(--color-border);
      }

      /* --- Client Portal Styles --- */
      .portal-bg {
        background-color: var(--portal-bg);
      }
      .portal-body {
        background-color: var(--portal-bg);
        color: var(--portal-text-primary);
        font-family: 'Manrope', 'sans-serif';
      }
      
      .timeline-item {
        position: relative;
        padding-left: 2.5rem;
        padding-bottom: 2rem;
      }
      .timeline-item:last-child {
        padding-bottom: 0;
      }
      .timeline-item::before {
        content: '';
        position: absolute;
        left: 11px; /* (24px icon width / 2) - 1px border */
        top: 24px;
        bottom: 0;
        width: 2px;
        background-color: var(--portal-border);
        transform-origin: top;
        animation: draw-line-ver 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        animation-delay: var(--animation-delay, 0s);
      }
      .timeline-item:last-child::before {
        display: none;
      }

      .timeline-icon-container {
        position: absolute;
        left: 0;
        top: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.5rem; /* 24px */
        height: 1.5rem; /* 24px */
        border-radius: 9999px;
        z-index: 10;
        background-color: var(--portal-bg);
      }
      
      @keyframes pulse-ring {
        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); } /* blue-500 */
        70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
      }
      
      .timeline-icon-container.active-pulse {
          animation: pulse-ring 2s infinite;
      }

      /* --- NEW PRINT STYLES --- */
      @media print {
        @page {
          size: A4;
          margin: 0;
        }

        /* Hide everything on the page by default */
        body * {
          visibility: hidden;
        }
        
        /* Make the designated printable area and all its children visible */
        .printable-area, .printable-area * {
          visibility: visible;
        }

        /* Position the printable area to take up the entire page */
        .printable-area {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: auto;
          margin: 0;
          padding: 0;
          border: none !important;
          box-shadow: none !important;
        }
        
        /* Apply basic styles for the printing context */
        body {
          background: white !important;
          font-family: 'Manrope', 'sans-serif' !important;
          font-size: 9pt !important;
          color: #1f2937 !important; /* gray-800 */
        }
        
        .printable-content, .printable-report {
          padding: 0 !important;
          border: none !important;
          box-shadow: none !important;
          background-color: white !important;
        }
        
        /* Ensure background colors and text colors print correctly */
        .printable-area *, .printable-report * {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
        
        .printable-area .overflow-x-auto,
        .printable-report .overflow-x-auto {
           overflow-x: visible !important;
        }
        
        /* Custom print classes for new designs */
        .printable-bg-blue { background-color: #2563eb !important; }
        .printable-text-white { color: white !important; }
        .printable-bg-green-light { background-color: #f0fdf4 !important; }
        .print-text-green { color: #166534 !important; }
        .print-bg-slate { background-color: #f1f5f9 !important; }

        .printable-area .text-gradient {
            background: none !important;
            -webkit-text-fill-color: inherit !important;
            color: #1e3a8a !important; /* dark blue */
        }
        .printable-area .text-brand-success, .printable-area .print-text-green { color: #16a34a !important; }
        .printable-area .text-brand-danger, .printable-area .print-text-red { color: #dc2626 !important; }

        /* Report Specific Styles */
        .printable-report h1 { font-size: 14pt !important; font-weight: bold; margin-bottom: 0.1cm; color: #111827 !important; }
        .printable-report h2 { font-size: 16pt !important; font-weight: bold; margin-bottom: 0.5cm; color: #111827 !important; }
        .printable-report h3 { font-size: 12pt !important; font-weight: bold; margin-top: 1cm; margin-bottom: 0.5cm; border-bottom: 1px solid #d1d5db !important; padding-bottom: 0.2cm; color: #1f2937 !important; page-break-after: avoid; }
        .printable-report p { margin-bottom: 0.4cm; line-height: 1.4; }
        .printable-report .grid { display: block !important; }
        .printable-report .StatCard-container > * { margin-bottom: 0.5cm; }
        .printable-report .StatCard { page-break-inside: avoid; border: 1px solid #e5e7eb !important; background: white !important; }
        .printable-report .charts-container { page-break-inside: avoid; display: block !important; }
        .printable-report .charts-container > * { width: 100% !important; margin-bottom: 0.5cm; }
        .printable-report .chart-wrapper { page-break-inside: avoid; padding: 0 !important; border: 1px solid #e5e7eb !important; background: white !important; }
        .printable-report .bg-brand-surface { background-color: white !important; }
        
        /* Table Styling */
        .printable-area table {
            width: 100% !important;
            border-collapse: collapse !important;
        }
        .printable-area thead {
             display: table-header-group; /* Repeat header on new page */
        }
        .printable-area tr {
             page-break-inside: avoid !important;
        }
        .printable-area th, .printable-area td {
            padding: 0.25cm !important;
            text-align: left !important;
            border-bottom: 1px solid #d1d5db !important;
        }
        .printable-area th {
            font-weight: bold !important;
            background-color: #f3f4f6 !important;
        }
        
        h1, h2, h3, h4, h5, h6 {
          page-break-after: avoid !important;
        }
      }
    </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "react/": "https://esm.sh/react@18.2.0/",
    "react-dom/": "https://esm.sh/react-dom@18.2.0/"
  }
}
</script>
<script>
  // On page load or when changing themes, best to add inline in `head` to avoid FOUC
  if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark')
  } else {
    document.documentElement.classList.remove('dark')
  }
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-brand-bg text-brand-text-primary">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>